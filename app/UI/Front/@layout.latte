<!DOCTYPE html>
<html lang="cs">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>
		{ifset title}
			{block title}{/block} | 
		{/ifset}
		3D Kryty
	</title>

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

	<link rel="stylesheet" href="{$basePath}/assets/style.css">
	<script src="{$basePath}/assets/main.js" defer></script>
</head>

<body class="d-flex flex-column min-vh-100">
	<header class="bg-light shadow-sm py-3 mb-4">
		<div class="container d-flex justify-content-between align-items-center">
			<h1 class="h4 mb-0">
				<a href="{$basePath}/" class="text-decoration-none text-dark">3D Kryty</a>
			</h1>

			<nav>
				<ul class="nav">
					<li class="nav-item"><a n:href="Home:default" class="nav-link">Domů</a></li>
					<li class="nav-item"><a n:href="Home:case" class="nav-link">Objednat</a></li>
					<li class="nav-item"><a n:href="Cart:default" class="nav-link">Košík</a></li>
					<li class="nav-item"><a href="#" class="nav-link">Kontakt</a></li>

					{if $user->isLoggedIn()}
						<li class="nav-item d-flex align-items-center ms-3 text-muted">
							Přihlášen jako 
							<span class="ms-1 fw-semibold">
								{ifset $user->identity->username}
									{$user->identity->username}
								{else}
									(neznámý uživatel)
								{/ifset}
							</span>
						</li>
						<li class="nav-item"><a n:href="Profile:default" class="nav-link">Profil</a></li>
						<li class="nav-item"><a n:href="Sign:out" class="nav-link text-danger ms-2">Odhlásit se</a></li>
					{else}
						<li class="nav-item"><a n:href="Sign:in" class="nav-link">Přihlášení</a></li>
					{/if}
				</ul>
			</nav>
		</div>
	</header>

	<main class="container mb-5">
		{foreach $flashes as $flash}
			<div class="alert alert-{$flash->type}">{$flash->message}</div>
		{/foreach}

		{include content}
	</main>

	<footer class="bg-light text-center text-muted py-3 mt-auto">
		<div class="container">
			&copy; {=date('Y')} 3D Kryty. Všechna práva vyhrazena.
		</div>
	</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
